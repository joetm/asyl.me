Number.prototype.formatNumber=function(){var n=this;return n.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},String.prototype.formatNumber=function(){var n=this;return n.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},define([],function(){"use strict";var n={};return n.load_csv=function(n,o){return void 0===o&&(o="text"),$.ajax({url:n,dataType:o}).fail(function(n){console.error(n)})},n.getLegendColor=function(n){return"hsl(66, 22%, "+10*n+"%)"},n.get_happiness=function(n,o){for(var r="unknown",e=0,t=o.length;t>e;e++)if(o[e].Country===n){r=o[e].Score;break}return r>=0||(r="unknown"),r},n.get_property=function(n,o,r){var e="unknown";return void 0===o[n]?(console.debug(r+":",n+" not found"),e):void 0===o[n][r]?(console.debug(r+":",r+" not found"),e):e=o[n][r]},n.get_properties=function(n,o,r){var e=[];if(void 0===o[n])return console.debug(r.join(",")+":",n+" not found"),e;for(var t=0,u=r.length;u>t;t++){if(void 0===o[n][r[t]])return console.debug(r.join(",")+":",r[t]+" not found"),e;e.push(o[n][r[t]])}return e},n});